
{% extends "base.html" %}

{% block title %}Shop â€” MyShop{% endblock %}

{% block content %}

  <section class="hero d-flex align-items-center justify-content-center">
    <h1 class="hero-outline display-4 fw-bold">Discover Great Products</h1>
  </section>

  <section class="products">
    <div class="grid">
      {% for p in products %}
        <article class="product" data-id="{{ p.id }}" data-price="{{ p.price }}">
          {% if p.image %}
            <img src="{{ p.image }}" alt="{{ p.name }}">
          {% else %}
            <img src="https://via.placeholder.com/320x200?text={{ p.name|urlencode }}" alt="{{ p.name }}">
          {% endif %}
          <h3>{{ p.name }}</h3>
          <p class="price">${{ p.price }}</p>
          <form method="post" class="add-to-cart-form">
            {% csrf_token %}
            <input type="hidden" name="product_id" value="{{ p.id }}">
            <input type="hidden" name="product_name" value="{{ p.name }}">
            <input type="hidden" name="product_price" value="{{ p.price }}">
          <button id="openDialogBtn" class="add-to-cart" >Add to cart</button>
        </article>
      {% empty %}
        <p>No products available yet.</p>
      {% endfor %}
      <dialog id="myDialog" class="myDialog">
        <div class="dialogBox">
            <button id="closeDialogBtn" class="close-btn">&times;</button>
            <p>Item Added to your Cart!</p>
        </div>
      </dialog>
    </form>
    </div>

  </section>

{% endblock %}